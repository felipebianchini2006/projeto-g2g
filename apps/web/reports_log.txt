
> web@0.1.0 test
> vitest run admin-reports-page.spec.tsx


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/projetos/projeto-g2g/apps/web[39m

[90mstderr[2m | src/components/pages/admin-reports-page.spec.tsx[2m > [22m[2mAdminReportsContent[2m > [22m[2mloads and lists reports
[22m[39mRangeError: Invalid time value
    at formatDate [90m(C:\projetos\projeto-g2g\apps\web\[39msrc\components\pages\admin-reports-page.tsx:46:8[90m)[39m
    at [90mC:\projetos\projeto-g2g\apps\web\[39msrc\components\pages\admin-reports-page.tsx:238:45
    at Array.map (<anonymous>)
    at AdminReportsContent [90m(C:\projetos\projeto-g2g\apps\web\[39msrc\components\pages\admin-reports-page.tsx:212:34[90m)[39m
    at Object.react_stack_bottom_frame (C:\projetos\projeto-g2g\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:25904:20)
    at renderWithHooks (C:\projetos\projeto-g2g\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:7662:22)
    at updateFunctionComponent (C:\projetos\projeto-g2g\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:10166:19)
    at beginWork (C:\projetos\projeto-g2g\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:11778:18)
    at runWithFiberInDEV (C:\projetos\projeto-g2g\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:874:13)
    at performUnitOfWork (C:\projetos\projeto-g2g\node_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:17641:22)
An error occurred in the <AdminReportsContent> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


 [31m‚ùØ[39m src/components/pages/admin-reports-page.spec.tsx [2m([22m[2m5 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1150[2mms[22m[39m
   [32m‚úì[39m AdminReportsContent[2m > [22mrenders loading state[32m 20[2mms[22m[39m
   [32m‚úì[39m AdminReportsContent[2m > [22mrenders access denied if not admin[32m 4[2mms[22m[39m
[31m   [31m√ó[31m AdminReportsContent[2m > [22mloads and lists reports[39m[33m 1015[2mms[22m[39m
[31m     ‚Üí Unable to find an element with the text: Listing 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<section[31m
      [33mclass[31m=[32m"bg-white px-6 py-12"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"mx-auto w-full max-w-[1200px] rounded-2xl border border-meow-red/20 bg-white px-6 py-4 text-sm text-meow-muted"[31m
      [36m>[31m
        [0mCarregando sess√£o...[0m
      [36m</div>[31m
    [36m</section>[31m
  [36m</div>[31m
  [36m<div>[31m
    [36m<section[31m
      [33mclass[31m=[32m"bg-white px-6 py-12"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"mx-auto w-full max-w-[1200px] rounded-2xl border border-meow-red/20 bg-white px-6 py-6 text-center"[31m
      [36m>[31m
        [36m<p[31m
          [33mclass[31m=[32m"text-sm text-meow-muted"[31m
        [36m>[31m
          [0mAcesso restrito ao admin.[0m
        [36m</p>[31m
        [36m<a[31m
          [33mclass[31m=[32m"mt-4 inline-flex rounded-full border border-meow-red/30 px-6 py-2 text-sm font-bold text-meow-deep"[31m
          [33mhref[31m=[32m"/conta"[31m
        [36m>[31m
          [0mVoltar para conta[0m
        [36m</a>[31m
      [36m</div>[31m
    [36m</section>[31m
  [36m</div>[31m
  [36m<div />[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<section[31m
        [33mclass[31m=[32m"bg-white px-6 py-12"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"mx-auto w-full max-w-[1200px] rounded-2xl border border-meow-red/20 bg-white px-6 py-4 text-sm text-meow-muted"[31m
        [36m>[31m
          [0mCarregando sess√£o...[0m
        [36m</div>[31m
      [36m</section>[31m
    [36m</div>[31m
    [36m<div>[31m
      [36m<section[31m
        [33mclass[31m=[32m"bg-white px-6 py-12"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"mx-auto w-full max-w-[1200px] rounded-2xl border border-meow-red/20 bg-white px-6 py-6 text-center"[31m
        [36m>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-meow-muted"[31m
          [36m>[31m
            [0mAcesso restrito ao admin.[0m
          [36m</p>[31m
          [36m<a[31m
            [33mclass[31m=[32m"mt-4 inline-flex rounded-full border border-meow-red/30 px-6 py-2 text-sm font-bold text-meow-deep"[31m
            [33mhref[31m=[32m"/conta"[31m
          [36m>[31m
            [0mVoltar para conta[0m
          [36m</a>[31m
        [36m</div>[31m
      [36m</section>[31m
    [36m</div>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
   [32m‚úì[39m AdminReportsContent[2m > [22mselects a report and shows details[32m 42[2mms[22m[39m
   [32m‚úì[39m AdminReportsContent[2m > [22mupdates report status[32m 67[2mms[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 1 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/components/pages/admin-reports-page.spec.tsx[2m > [22mAdminReportsContent[2m > [22mloads and lists reports
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the text: Listing 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<section[31m
      [33mclass[31m=[32m"bg-white px-6 py-12"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"mx-auto w-full max-w-[1200px] rounded-2xl border border-meow-red/20 bg-white px-6 py-4 text-sm text-meow-muted"[31m
      [36m>[31m
        [0mCarregando sess√£o...[0m
      [36m</div>[31m
    [36m</section>[31m
  [36m</div>[31m
  [36m<div>[31m
    [36m<section[31m
      [33mclass[31m=[32m"bg-white px-6 py-12"[31m
    [36m>[31m
      [36m<div[31m
        [33mclass[31m=[32m"mx-auto w-full max-w-[1200px] rounded-2xl border border-meow-red/20 bg-white px-6 py-6 text-center"[31m
      [36m>[31m
        [36m<p[31m
          [33mclass[31m=[32m"text-sm text-meow-muted"[31m
        [36m>[31m
          [0mAcesso restrito ao admin.[0m
        [36m</p>[31m
        [36m<a[31m
          [33mclass[31m=[32m"mt-4 inline-flex rounded-full border border-meow-red/30 px-6 py-2 text-sm font-bold text-meow-deep"[31m
          [33mhref[31m=[32m"/conta"[31m
        [36m>[31m
          [0mVoltar para conta[0m
        [36m</a>[31m
      [36m</div>[31m
    [36m</section>[31m
  [36m</div>[31m
  [36m<div />[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<section[31m
        [33mclass[31m=[32m"bg-white px-6 py-12"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"mx-auto w-full max-w-[1200px] rounded-2xl border border-meow-red/20 bg-white px-6 py-4 text-sm text-meow-muted"[31m
        [36m>[31m
          [0mCarregando sess√£o...[0m
        [36m</div>[31m
      [36m</section>[31m
    [36m</div>[31m
    [36m<div>[31m
      [36m<section[31m
        [33mclass[31m=[32m"bg-white px-6 py-12"[31m
      [36m>[31m
        [36m<div[31m
          [33mclass[31m=[32m"mx-auto w-full max-w-[1200px] rounded-2xl border border-meow-red/20 bg-white px-6 py-6 text-center"[31m
        [36m>[31m
          [36m<p[31m
            [33mclass[31m=[32m"text-sm text-meow-muted"[31m
          [36m>[31m
            [0mAcesso restrito ao admin.[0m
          [36m</p>[31m
          [36m<a[31m
            [33mclass[31m=[32m"mt-4 inline-flex rounded-full border border-meow-red/30 px-6 py-2 text-sm font-bold text-meow-deep"[31m
            [33mhref[31m=[32m"/conta"[31m
          [36m>[31m
            [0mVoltar para conta[0m
          [36m</a>[31m
        [36m</div>[31m
      [36m</section>[31m
    [36m</div>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
[90m [2m‚ùØ[22m Proxy.waitForWrapper ../../node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m‚ùØ[22m src/components/pages/admin-reports-page.spec.tsx:[2m51:15[22m[39m
    [90m 49| [39m        [34mrender[39m([33m<[39m[33mAdminReportsContent[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m 50| [39m
    [90m 51| [39m        [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m              [31m^[39m
    [90m 52| [39m            [35mconst[39m listings [33m=[39m screen[33m.[39m[34mgetAllByText[39m([32m'Listing 1'[39m)[33m;[39m
    [90m 53| [39m            [34mexpect[39m(listings[[34m0[39m])[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Unhandled Errors [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m
[31m[1m
Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Uncaught Exception [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ[39m
[31m[1mRangeError[22m: Invalid time value[39m
[36m [2m‚ùØ[22m formatDate src/components/pages/admin-reports-page.tsx:[2m46:8[22m[39m
    [90m 44| [39m        hour[33m:[39m [32m'2-digit'[39m[33m,[39m
    [90m 45| [39m        minute[33m:[39m [32m'2-digit'[39m[33m,[39m
    [90m 46| [39m    })[33m.[39m[34mformat[39m([35mnew[39m [33mDate[39m(dateStr))[33m;[39m
    [90m   | [39m       [31m^[39m
    [90m 47| [39m
    [90m 48| [39m[35mexport[39m [35mconst[39m [33mAdminReportsContent[39m [33m=[39m () [33m=>[39m {
[90m [2m‚ùØ[22m src/components/pages/admin-reports-page.tsx:[2m238:45[22m[39m
[90m [2m‚ùØ[22m AdminReportsContent src/components/pages/admin-reports-page.tsx:[2m212:34[22m[39m
[90m [2m‚ùØ[22m Object.react_stack_bottom_frame ../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m25904:20[22m[39m
[90m [2m‚ùØ[22m renderWithHooks ../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m7662:22[22m[39m
[90m [2m‚ùØ[22m updateFunctionComponent ../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m10166:19[22m[39m
[90m [2m‚ùØ[22m beginWork ../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m11778:18[22m[39m
[90m [2m‚ùØ[22m runWithFiberInDEV ../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m874:13[22m[39m
[90m [2m‚ùØ[22m performUnitOfWork ../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m17641:22[22m[39m

[31mThis error originated in "[1msrc/components/pages/admin-reports-page.spec.tsx[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mloads and lists reports[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m
[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m4 passed[39m[22m[90m (5)[39m
[2m     Errors [22m [1m[31m1 error[39m[22m
[2m   Start at [22m 07:54:25
[2m   Duration [22m 2.75s[2m (transform 117ms, setup 79ms, collect 335ms, tests 1.15s, environment 541ms, prepare 127ms)[22m

npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path C:\projetos\projeto-g2g\apps\web
npm error workspace web@0.1.0
npm error location C:\projetos\projeto-g2g\apps\web
npm error command failed
npm error command C:\Windows\system32\cmd.exe /d /s /c vitest run admin-reports-page.spec.tsx
